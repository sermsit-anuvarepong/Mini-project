<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<!-- Link library leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
crossorigin="" />



<!-- W3 CSS template -->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />



<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
crossorigin="">
</script>



<style>
#mapid {
height: 800px;
}
</style>



<title>Tourist map</title>
</head>
<body style="background-image: url(https://markallenassets.blob.core.windows.net/ccinform/2021/02/covid-19-vaccine-AdobeStock_327257834-Leigh-Prather-760.jpg);background-position: center;
    background-repeat: no-repeat; background-size: cover;">
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
      <header class="mb-auto" style="background-color:#DEE2EB">
        <div>
          <h3 class="float-md-start mb-0"style="color:black">Mini Project</h3>
          <nav class="nav nav-masthead justify-content-center float-md-end">
            <a class="nav-link active" href="index.html"style="color:black;">หน้าหลัก</a>
            <a class="nav-link active" href="#"style="color:black;">เเผนที่เเสดงข้อมูล</a>
            <a class="nav-link active" href="contact.html"style="color:black;">ติดต่อ</a>
          </nav>
        </div>
      </header>
      <main class="px-3" align='center' style="background-color:lightblue">
        <h1>เเผนที่รายงานสถานการณ์การฉีดวัคซีนเชิงพื้นที่ภาคกลางระหว่างวันที่ 28กุมภาพันธ์ 2564 - 1พฤษภาคม 2565</h1>
        <p align='center'>ข้อมูลจาก<a href="https://ddc.moph.go.th/vaccine-covid19/diaryReport">กรมควบคุมโรค</a>,จัดทำเว็บโดย <a href="#">คณะผู้จัดทำ</a>.</p>
<!-- แบ่งหน้าจอ -->
<div class="w3-row">
<div id="mapid" class="w3-half"></div>
<div id="content" class="w3-half">
<table class="w3-table w3-striped">
<tr>
  <th>จังหวัด</th>
  <th>จำนวนคนฉีดเข็ม1</th>
  <th>จำนวนคนฉีดเข็ม2</th>
  <th>จำนวนคนฉีดเข็ม3</th>
  <th>รวม</th>
</tr>
<tr>
<td>น้ำตก A</td>
<td>ธรรมชาติ</td>
<td>A</td>
</tr>
</table>
</div>
</div>



<!-- เรียกแผนที่ขึ้นมาแสดง -->
<script>
var map = L.map("mapid").setView([13.75851958059117, 100.48521990482732],8);
var osm = L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}").addTo(map);
var gsat = L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}").addTo(map);
var OpenStreetMap_France = L.tileLayer("https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png").addTo(map);
var baseMaps ={
  ESWI:osm,
  NGWM:gsat,
  France:OpenStreetMap_France,
};
//add data
var tourpoint = {
type: "FeatureCollection",
name: "tour_plk",
crs: {
type: "name",
properties: { name: "urn:ogc:def:crs:OGC:1.3:CRS84" },
},
features: [
{
type: "Feature",
properties: {
Name: "กรุงเทพมหานคร",
Type: "9,868,566",
FID_1: 1358.0,
level: "904,4704",
level1: "6,336,438",
level2: "25,249,708",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.55345885329102,13.759239468994522]],
},
},
{
type: "Feature",
properties: {
Name: "กาญจนบุรี",
Type: "563,027",
FID_1: 1357.0,
level: "512,545",
level1: "201,620",
level2: "1,277,192",
},
geometry: {
type: "MultiPoint",
coordinates: [[99.01932067525655,14.55081617865057]],
},
},
{
type: "Feature",
properties: {
Name: "ฉะเชิงเทรา",
Type: "716,731",
FID_1: 1362.0,
level: "604,617",
level1: "342,102",
level2: "1,663,450",
},
geometry: {
type: "MultiPoint",
coordinates: [[101.42354241204605,13.63613829341261]],
},
},
{
type: "Feature",
properties: {
Name: "ชัยนาท",
Type: "213,191",
FID_1: 1364.0,
level: "197,870",
level1: "109,517",
level2: "520,578",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.02837028681265,15.121975790273693]],
},
},
{
type: "Feature",
properties: {
Name: "นครนายก",
Type: "169,899",
FID_1: 1355.0,
level: "158,188",
level1: "87,030",
level2: "415,117",
},
geometry: {
type: "MultiPoint",
coordinates: [[101.1681556100222,14.220774332491752]],
},
},
{
type: "Feature",
properties: {
Name: "นครปฐม",
Type: "709,518",
FID_1: 1365.0,
level: "683,032",
level1: "369,648",
level2: "1,762,198",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.10122102735274,13.911134443179918]],
},
},
{
type: "Feature",
properties: {
Name: "นนทบุรี",
Type: "1,172,664",
FID_1: 733.0,
level: "1,098,741",
level1: "918,640",
level2: "3,190,045",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.39784507057031,13.909206806285246]],
},
},
{
type: "Feature",
properties: {
Name: "ปทุมธานี",
Type: "1,369,112",
FID_1: 1359.0,
level: "1,263,682",
level1: "604,570",
level2: "3,237,364",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.67269890061371,14.05333526869121]],
},
},
{
type: "Feature",
properties: {
Name: "ประจวบคีรีขันธ์",
Type: "451,116",
FID_1: 603.0,
level: "411,691",
level1: "172,968",
level2: "1,035,775",
},
geometry: {
type: "MultiPoint",
coordinates: [[99.69989882805609,11.797840593395097]],
},
},
{
type: "Feature",
properties: {
Name: "พระนครศรีอยุธยา",
Type: "693,593",
FID_1: 611.0,
level: "655,503",
level1: "452,190",
level2: "1,801,286",
},
geometry: { type: "MultiPoint", coordinates: [[100.51653361134026,14.327551167461698]] },
},
{
type: "Feature",
properties: {
Name: "ราชบุรี",
Type: "569,390",
FID_1: 1370.0,
level: "543,440",
level1: "240,767",
level2: "1,353,597",
},
geometry: {
type: "MultiPoint",
coordinates: [[99.63057157160557,13.545030791199752]],
},
},
{
type: "Feature",
properties: {
Name: "ลพบุรี",
Type: "462,018",
FID_1: 781.0,
level: "433,431",
level1: "232,824",
level2: "1,128,273",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.90192846628722,15.083618080764639]],
},
},
{
type: "Feature",
properties: {
Name: "สมุทรปราการ",
Type: "1,730,299",
FID_1: 364.0,
level: "1,503,406",
level1: "1,172,713",
level2: "4,406,418",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.62246684156781,13.593002867652647]],
},
},
{
type: "Feature",
properties: {
Name: "สมุทรสาคร",
Type: "971,327",
FID_1: 450.0,
level: "892,225",
level1: "389,044",
level2: "2,252,596",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.2008560328985,13.567671603451926]],
},
},
{
type: "Feature",
properties: {
Name: "สมุทรสงคราม",
Type: "129,397",
FID_1: 62.0,
level: "118,949",
level1: "64,382",
level2: "312,728",
},
geometry: {
type: "MultiPoint",
coordinates: [[99.9648934925301,13.402806721706016]],
},
},
{
type: "Feature",
properties: {
Name: "สระบุรี",
Type: "525,391",
FID_1: 745.0,
level: "505,745",
level1: "300,682",
level2: "1,331,818",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.9856968703141,14.565490928846076]],
},
},
{
type: "Feature",
properties: {
Name: "สิงห์บุรี",
Type: "143,306",
FID_1: 763.0,
level: "134,377",
level1: "72,653",
level2: "350,336",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.34380230712668,14.905891950706215]],
},
},
{
type: "Feature",
properties: {
Name: "สุพรรณบุรี",
Type: "535,407",
FID_1: 773.0,
level: "498,447",
level1: "208,544",
level2: "1,242,398",
},
geometry: {
type: "MultiPoint",
coordinates: [[99.97486014002523,14.580916843324436]],
},
},
{
type: "Feature",
properties: {
Name: "อ่างทอง",
Type: "179,085",
FID_1: 643.0,
level: "169,820",
level1: "95,929",
level2: "444,834",
},
geometry: {
type: "MultiPoint",
coordinates: [[100.31699904236677,14.632549046211714]],
},
},
{
type: "Feature",
properties: {
Name: "เพชรบุรี",
Type: "386,205",
FID_1: 642.0,
level: "353,435",
level1: "146,593",
level2: "886,233",
},
geometry: {
type: "MultiPoint",
coordinates: [[99.63270749799914,12.946881241134726]],
},
},
],
};

//add maker and popup
var tourLayer = L.geoJSON(tourpoint, {
pointToLayer: function (feature, latlng) {
return L.marker(latlng).bindPopup(feature.properties.Name);
},
onEachFeature: function (feature, layer) {
layer.on("mouseover", function () {
document
.getElementById(feature.properties.FID_1)
.classList.add("w3-red");
});



layer.on("mouseout", function () {
document
.getElementById(feature.properties.FID_1)
.classList.remove("w3-red");
});
},
}).addTo(map);
//Link table with popup and marker
var cont = "";
cont += "<table class='w3-table w3-striped'>";
cont += "<tr>";
cont += "<th>จังหวัด</th>";
cont += "<th>จำนวนคนฉีดเข็ม1</th>";
cont += "<th>จำนวนคนฉีดเข็ม2</th>";
cont += "<th>จำนวนคนฉีดเข็ม3</th>";
cont += "<th>รวม</th>";
cont += "</tr>";
for (let i in tourpoint.features) {
cont += "<tr id=" + tourpoint.features[i].properties.FID_1 + ">";
cont += "<td>" + tourpoint.features[i].properties.Name + "</td>";
cont += "<td>" + tourpoint.features[i].properties.Type + "</td>";
cont += "<td>" + tourpoint.features[i].properties.level + "</td>";
cont += "<td>" + tourpoint.features[i].properties.level1 + "</td>";
cont += "<td>" + tourpoint.features[i].properties.level2 + "</td>";
cont += "</tr>";
}
cont += "</table>";
console.log(cont);
document.getElementById("content").innerHTML = cont;

var polygonGeoJson = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              99.4976806640625,
              10.99512000008428
            ],
            [
              99.832763671875,
              11.95872339364665
            ],
            [
              100.0140380859375,
              12.17359537192821
            ],
            [
              99.9591064453125,
              12.6242577232695
            ],
            [
              100.00030517578125,
              12.809123100045515
            ],
            [
              100.09368896484375,
              13.047372256948787
            ],
            [
              100.06622314453125,
              13.132979019087472
            ],
            [
              99.95635986328125,
              13.290738146556912
            ],
            [
              100.1019287109375,
              13.432366575813761
            ],
            [
              100.3106689453125,
              13.485789593908478
            ],
            [
              100.59356689453125,
              13.52584902223084
            ],
            [
              100.92315673828125,
              13.456408409113283
            ],
            [
              101.0467529296875,
              13.496472765758952
            ],
            [
              101.10443115234375,
              13.576581291896971
            ],
            [
              101.23077392578124,
              13.576581291896971
            ],
            [
              101.31591796875,
              13.488460431671312
            ],
            [
              101.4971923828125,
              13.432366575813761
            ],
            [
              101.7169189453125,
              13.173096930513596
            ],
            [
              101.8817138671875,
              13.210534384132387
            ],
            [
              101.99432373046875,
              13.312121345117143
            ],
            [
              101.91741943359374,
              13.539200668930816
            ],
            [
              101.854248046875,
              13.603278132528756
            ],
            [
              101.75811767578125,
              13.760728046441224
            ],
            [
              101.62628173828125,
              13.707367001939167
            ],
            [
              101.54937744140625,
              13.774066408054827
            ],
            [
              101.32415771484375,
              13.870080100685891
            ],
            [
              101.151123046875,
              13.883412200714838
            ],
            [
              101.14288330078125,
              13.976715394601785
            ],
            [
              101.195068359375,
              14.016690919227486
            ],
            [
              101.33239746093749,
              14.064652358057725
            ],
            [
              101.29394531249999,
              14.147229023443646
            ],
            [
              101.392822265625,
              14.259059219889897
            ],
            [
              101.502685546875,
              14.272368653250616
            ],
            [
              101.47247314453124,
              14.35753037551214
            ],
            [
              101.39007568359375,
              14.42936039337316
            ],
            [
              101.260986328125,
              14.493189855992824
            ],
            [
              101.2060546875,
              14.551684056143447
            ],
            [
              101.2115478515625,
              14.732386081418454
            ],
            [
              101.304931640625,
              14.727073444965137
            ],
            [
              101.44226074218749,
              14.875778165434696
            ],
            [
              101.414794921875,
              15.188783763403267
            ],
            [
              101.4093017578125,
              15.570127852659427
            ],
            [
              101.3653564453125,
              15.734101177322788
            ],
            [
              101.3214111328125,
              15.501325828252583
            ],
            [
              101.2664794921875,
              15.368949896534705
            ],
            [
              101.14013671875,
              15.37424655321481
            ],
            [
              100.9698486328125,
              15.416614956446509
            ],
            [
              100.83251953125,
              15.564836205125268
            ],
            [
              100.7611083984375,
              15.490738864633403
            ],
            [
              100.65673828125,
              15.37954307526449
            ],
            [
              100.56884765624999,
              15.172879337054226
            ],
            [
              100.4150390625,
              15.0456009179285
            ],
            [
              100.2996826171875,
              15.204686991289483
            ],
            [
              100.21728515624999,
              15.37954307526449
            ],
            [
              100.1019287109375,
              15.427205708440832
            ],
            [
              100.074462890625,
              15.273587102218679
            ],
            [
              100.0140380859375,
              15.278886175085745
            ],
            [
              99.77783203125,
              15.284185114076433
            ],
            [
              99.68994140625,
              15.072123545811683
            ],
            [
              99.2724609375,
              15.029685756555674
            ],
            [
              99.07470703125,
              15.029685756555674
            ],
            [
              98.59130859375,
              15.623036831528264
            ],
            [
              98.50341796875,
              15.368949896534705
            ],
            [
              98.15185546874999,
              15.199386048559994
            ],
            [
              98.5693359375,
              14.392118083661728
            ],
            [
              99.1021728515625,
              13.891411092746115
            ],
            [
              99.2010498046875,
              13.21855594917547
            ],
            [
              99.140625,
              13.213208268446683
            ],
            [
              99.0966796875,
              13.084828874547332
            ],
            [
              99.15710449218749,
              13.03131768257082
            ],
            [
              99.2340087890625,
              12.720726019420917
            ],
            [
              99.42626953125,
              12.597454504832005
            ],
            [
              99.4866943359375,
              12.168225677390119
            ],
            [
              99.65698242187499,
              11.835094475418835
            ],
            [
              99.5855712890625,
              11.641476279218743
            ],
            [
              99.49218749999999,
              11.630715737981486
            ],
            [
              99.140625,
              11.016688524459864
            ],
            [
              99.4976806640625,
              10.99512000008428
            ]
          ]
        ]
      }
    }
  ]
}

var polygonLayer = L.geoJSON(polygonGeoJson, {
style: function (feature) {
return { color: feature.properties.color };
},
onEachFeature: function (feature, layer) {
layer.bindPopup(feature.properties.name);



layer.on("mouseover", function () {
layer.openPopup();
});



layer.on("mouseout", function () {
layer.closePopup();
});
},
});

var overlays = {
  จังหวัด:tourLayer,
  ขอบเขต:polygonLayer
};

L.control.layers(baseMaps,overlays).addTo(map);
</script>
<p class="lead" align='center'>
  <a href="index.html" class="btn btn-lg btn-secondary fw-bold border-white bg-black" style="color:white;">ย้อนกลับ</a>
</main>
</div>


</body>
</html>
